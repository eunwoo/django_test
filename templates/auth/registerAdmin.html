{% extends 'base/head.html' %}
{% block title %}
  Register
{% endblock %}
{% block style %}
  <style>
    @media screen and (min-width: 601px) {
      main {
        width: 50%;
        margin: 20px auto;
      }
    }

    @media screen and (max-width: 600px) {
      main {
        width: 100%;
      }
    }
  </style>

{% endblock %}

{% block content %}
  {% include 'base/header.html' %}
  <main>
    <div class="cont mt-4">
      <section>
        <br>
        <div class="container">
          <div class="row ml-0">
            <div class="col">
              <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">회원가입</a>
                </li>
                <li class="breadcrumb-item">시스템 관리자 회원</a>
              </li>
              <li class="breadcrumb-item">개인정보 입력</a>
            </li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</section>

<form action="" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <section>
    <form action="" method="POST">
      {% csrf_token %}
      <div class="container">
        <div class="row">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">이름</label>
          </div>
          <div class="col-md-8">
            {{form.name}}
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">아이디</label>
          </div>
          <div class="col-md-8">
            {{form.username}}
            {% if form.username.errors %}
              <div class="alert alert-danger mt-1 m-0">
                <strong>{{form.username.errors|striptags}}</strong>
              </div>
            {% endif %}

          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">비밀번호</label>
          </div>
          <div class="col-md-8">
            {{form.password1}}
            {% if form.password1.errors %}
              <div class="alert alert-danger mt-1 m-0">
                {% for errors in form.password1.errors %}
                  <strong>{{errors|striptags}}</strong><br>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">비밀번호 재확인</label>
          </div>
          <div class="col-md-8">
            {{form.password2}}
            {% if form.password2.errors %}
              <div class="alert alert-danger mt-1">
                {% for errors in form.password2.errors %}
                  <strong>{{errors|striptags}}</strong><br>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">이메일</label>
          </div>
          <div class="col-md-8">
            {{form.email}}
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">전화번호</label>
          </div>
          <div class="col-md-8">
            {{form.phone}}
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-2 offset-1">
            <label for="" class="col-12">서명</label>
          </div>
          <div class="col-md-8" style="border: 1px solid black; height: 200px;">
            <div class="row mt-3">
              <div class="col-md-2 offset-10">
                <button class="btnx" type="button" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal">서명 등록</button>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered modal-sm">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 등록</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <div class="container-fluid text-center">
                          <div style="border: 1px solid black; height: 120px;">
                            <canvas id="sig-canvas">
                              Get a better browser, bro.
                            </canvas>
                          </div>
                          <label for="" class="">서명을 그려주세요</label>
                        </div>
                      </div>
                      <div class="modal-footer" style="margin: 0 auto;">
                        <button type="button" class="btn btn-secondary" id="sig-submitBtn" data-bs-target="#exampleModalToggle4" data-bs-toggle="modal">등록</button>
                        <button class="btn btn-primary" id="sig-clearBtn" type="button">삭제</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row mt-3 mb-1 mx-1">
              <textarea id="sig-dataUrl" class="form-control" rows="5" hidden="hidden">Data URL for your signature will go here!</textarea>
              <div class="col-md-12 text-center " style="border: 1px solid black; height: 120px;">
                <img id="sig-image" src=""/>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-1">
          <div class="offset-3 col-md-8">
            {% if form.image.errors %}
              <div class="alert alert-danger mt-1">
                {% for errors in form.image.errors %}
                  <strong>{{errors|striptags}}</strong><br>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
        <br>
        <div class="row mt-3">
          <div class="col-md-10 offset-2 text-center">
            <a href="{% url 'user:login' %}">
              <button type="submit" class="btn btn-primary">가입 신청 완료</button>
            </a>
          </div>
        </div>
      </div>
    </form>
  </section>
</form>
<br>
</div>
</main>
{% endblock %}

{% block javascript %}
{% load static %}
<script src="{% static 'js/sign.js' %}"></script>
{% endblock %}
