<!-- Quality summary page -->
{% extends 'base/head.html' %}
{% block title %}
  Safety Check
{% endblock %}
{% block style %}
  <style>
    main {
      width: 70%;
      min-width: 1200px;
      margin: 20px auto;
    }

    .custom-file {
      border: 1px solid black;
      padding: 2px;
    }
  </style>
{% endblock %}

{% block content %}
  {% include 'base/header.html' %}
  <main>
    <div class="cont mt-4">
      {% include 'base/navbar_main.html' %}
      <section>
        <div class="container">
          <div class="row ml-0">
            <div class="col">
              <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="{% url 'work:index' %}">업무</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    <a href="{% url 'work:quality_menu' %}">품질검사</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    <a href="{% url 'work:quality_report' %}">품질검사 성과보고</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">품질검사 성과보고서 작성</li>
                </ol>
              </nav>
            </div>
          </div>
        </div>

      </section>
      <section>
        <div class="container">
          <div class="row">
            <div class="col-4 offset-8 ">
              <div class="row">
                <div class="col">
                  <div class="col">
                    <button class="btn1 p-2 btn btn-light col-12" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal">저장</button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered modal-sm">
                        <div class="modal-content ">
                          <br><br>
                          <div class="modal-header" style="display:none">
                            <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">저장</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="container-fluid">
                              <div class="row">
                                <div class="col-12">
                                  <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">저장이 완료 되었습니다.</label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer" style="margin: 0 auto;">
                            <button class="btn btn-secondary" form="qtysumform" type="submit" data-bs-dismiss="modal">확인</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col">
                  <button class="btn1 p-2 btn btn-light col-12" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal1">서명 요청</button>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 text-center">수신인 지정</label>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-12">
                                <select name="" id="" class="col-12">
                                  <option value="" selected="selected" disabled="disabled">수신인을 지정해 주세요.</option>
                                  <option value="">김유지</option>
                                  <option value="">이문제</option>
                                  <option value="">청이라</option>
                                  <option value="">임아이</option>
                                </select>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-12">
                                <input type="text" placeholder="전달할 메시지를 입력해 주세요." style="white-space: normal;" class="col-12">
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle4" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="fw-bold col-12 text-center">서명 요청이 완료 되었습니다</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <a href="Page1.html">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </section>
      <form action="" id="qtysumform" method="POST">
        {% csrf_token %}
        <section>
          <div class="container mt-3 mb-5" style="border: 1px solid rgb(210, 210, 210);">
            <div class="row">
              <div class="col-12 text-center my-4">
                <label style="font-size: large;" for="">품질검사 성과 총괄표 신고서</label>
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">문서번호</label>
              </div>
              <div class="col-4">
                {{form.docNum}}
              </div>
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">작성일자</label>
              </div>
              <div class="col-4">
                {{form.date}}
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">공사명</label>
              </div>
              <div class="col-4">
                {{form.constName}}
              </div>
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">공사기간</label>
              </div>
              <div class="col-4">
                {{form.constPeriod}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-12">
                <div class="mt-3 row">
                  <div class="col-1 offset-11">
                    <button class="btnx col-12" type="button">행추가</button>
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-12">
                    <table style="border-collapse: collapse;" class="col-12" border="1" id="table">
                      <tr>
                        <td rowspan="2" class=" col-2">품명</td>
                        <td rowspan="2" class="">규격</td>
                        <td rowspan="2" class="col-2">시험ᆞ검사 종목
                        </td>
                        <td colspan="5" class="">시험ᆞ검사 횟수(회)</td>
                        <td rowspan="2" class="">비고</td>
                        <td rowspan="2" class="">삭제</td>

                      </tr>

                      <tr>
                        <td>
                          계획
                        </td>
                        <td>
                          실시
                        </td>
                        <td>
                          합격
                        </td>
                        <td>
                          불합격
                        </td>
                        <td>
                          재시험
                        </td>
                      </tr>
                      <tr>
                        <td>
                          {{form.prodName}}
                        </td>
                        <td>
                          {{form.std}}
                        </td>
                        <td>

                          {{form.testItem}}
                        </td>
                        <td>
                          {{form.testNumPlan}}
                        </td>
                        <td>
                          {{form.testNumAct}}
                        </td>
                        <td>
                          {{form.testPass}}
                        </td>
                        <td>
                          {{form.testFail}}
                        </td>
                        <td>
                          {{form.retest}}
                        </td>
                        <td>
                          {{form.note}}
                        </td>
                        <td>
                          <button class="btnx" onclick="newtest2(this)">삭제</button>
                        </td>
                      </tr>

                    </table>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-3 row">
              <div class="col-2 text-center justify-content-center align-items-center d-flex">
                <label for="" class="col-12" style="color: black;">붙임</label>
              </div>
              <div class="col-10">
                <div class="row mt-2">
                  <div class="col-2 offset-10">
                    <button class="btnx col-12" id="deleteAcc">삭제</button>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-2">
                    <div class="row mt-2">
                      <div class="col-12">
                        <label for="">품질검사 성적서</label>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-12">
                        <label for="inputTypeFile" class="custom-file col-12 text-center btnx">
                          업로드
                          <input type="file" id="inputTypeFile" multiple="multiple" style="display: none;">
                        </label>

                      </div>
                    </div>
                  </div>
                  <div class="offset-1 col-8">
                    <div class="row mt-2">
                      <div class='checkbox' id="uploadlist"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center justify-content-center align-items-center d-flex">
                <label for="" class="col-12" style="color: black;">결재</label>
              </div>
              <div class="col-10">
                <table style="border-collapse: collapse;" class="col-12" border="1">
                  <tr>
                    <td>
                      <label for="">담당자</label>
                    </td>
                    <td>
                      <label for="">현장대리인</label>
                    </td>
                    <td>
                      <label for="">담당 건설사업관리기술인</label>
                    </td>
                    <td>
                      <label for="">총괄 건설사업관리기술인
                      </label>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="row">
                        <div class="col-9">{{form.inCharge}}</div>
                        <div class="col-1">
                          <label for="" class="mr-1">(인)</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="row">
                        <div class="col-9">{{form.gcSiteAgent}}</div>
                        <div class="col-1">
                          <label for="" class="mr-1">(인)</label>
                        </div>
                      </div>
                    </td>
                    <td>
                      {% if request.user.role_type == '일반 건설사업관리기술인' %}
                        <div class="row">
                          <div class="col-9">{{form.eng}}</div>
                          <div class="col-1">
                            <label for="" class="mr-1">(인)</label>
                          </div>
                          <div class="col-1">
                            <button data-bs-toggle="modal" data-bs-target="#exampleModal4" class="btnx">서명</button>
                            <!-- Modal -->
                            <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered modal-sm">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="container-fluid">
                                      <div class="row">
                                        <div class="col-12">
                                          <label style="white-space: normal;" for="" class="col-12 text-center">결재를 위한 서명자 아이디를 입력해주세요</label>
                                        </div>
                                      </div>
                                      <div class="mt-2 row">
                                        <div class="col-12">
                                          <input class="col-12" type="password">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer" style="margin: 0 auto;">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      {% else %}
                        <div class="row">
                          <div class="col-9">{{form.eng}}</div>
                          <div class="col-1">
                            <label for="" class="mr-1">(인)</label>
                          </div>
                        </div>
                      {% endif %}
                    </td>
                    <td>
                      <div class="row">
                        <div class="col-9">{{form.gcEng}}</div>
                        <div class="col-1">
                          <label for="" class="mr-1">(인)</label>
                        </div>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <br>
          </div>
        </section>
      </form>
    </div>
    <br><br><br><br><br>
  </main>
{% endblock %}