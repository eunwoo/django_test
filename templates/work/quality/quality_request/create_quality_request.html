<!-- Quality request page -->
{% extends 'base/head.html' %}
{% block title %}
  Safety Check
{% endblock %}
{% block style %}
  <style>
    main {
      width: 70%;
      min-width: 1200px;
      margin: 20px auto;
    }
  </style>
{% endblock %}
{% block javascript %}
  <script>
    $(document).ready(function () {
      var $user = '{{request.user.role_type}}'
      if ($user == '일반 관리자') {
        $("#id_date").prop("readonly", true);
        $("#id_clientName").prop("readonly", true);
        $("#id_clientNum").prop("readonly", true);
        $("#id_clientAddress").prop("readonly", true);
      } else if ($user == '현장 대리인') {
        $("#qtyreqform:input")
          .not("#id_date, #id_clientName, #id_clientNum, #id_clientAddress")
          .prop("readonly", true);
      } else if ($user == '시스템 관리자') {} else if ($user == '일반 건설사업관리기술인') {
        $("#qtyreqform :input")
          .not("#id_entrantOrg , #id_entrantRank, #id_entrantName")
          .prop("readonly", true);
      } else if ($user == '총괄 건설사업관리기술인') {}

    });
  </script>
{% endblock %}

{% block content %}
  {% include 'base/header.html' %}
  <main>
    <div class="cont mt-4">
      {% include 'base/navbar_main.html' %}
      <section>
        <div class="container">
          <div class="row ml-0">
            <div class="col">
              <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="">업무</a>
                  </li>
                  <li class="breadcrumb-item" aria-current="page">
                    <a href="">품질검사</a>
                  </li>
                  <li class="breadcrumb-item" aria-current="page">
                    <a href="">품질검사 의뢰</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">품질검사 의뢰서 작성</li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="container">
          <div class="row">
            <div class="col-4 offset-8 ">
              <div class="row">
                <div class="col">
                  <div class="col">
                    <button class="btn1 p-2 btn btn-light col-12" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal">저장</button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered modal-sm">
                        <div class="modal-content ">
                          <br><br>
                          <div class="modal-header" style="display:none">
                            <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">저장</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="container-fluid">
                              <div class="row">
                                <div class="col-12">
                                  <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">저장이 완료 되었습니다.</label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer" style="margin: 0 auto;">
                            <button type="submit" class="btn btn-secondary" form="qtyreqform" data-bs-dismiss="modal">확인</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col">
                  <button class="btn1 p-2 btn btn-light col-12" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal1">서명 요청</button>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">저장을 해주세요.</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">내용을 모두 작성해주세요.</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle3" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 text-center">수신인 지정</label>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-12">
                                <select name="" id="" class="col-12">
                                  <option value="" selected="selected" disabled="disabled">수신인을 지정해 주세요.</option>
                                  <option value="">김유지</option>
                                  <option value="">이문제</option>
                                  <option value="">청이라</option>
                                  <option value="">임아이</option>
                                </select>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-12">
                                <input type="text" placeholder="전달할 메시지를 입력해 주세요." style="white-space: normal;" class="col-12">
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle4" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="fw-bold col-12 text-center">서명 요청이 완료 되었습니다</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <a href="Page6.html">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </section>
      <form action="" id="qtyreqform" method="POST">
        {% csrf_token %}
        <section>
          <div class="container mt-3 mb-5" style="border: 1px solid rgb(210, 210, 210);">
            <div class="row">
              <div class="col-12 text-center my-4">
                <label style="font-size: large;" for="">품질검사 의뢰서</label>
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">품명</label>
              </div>
              <div class="col-4">
                {{form.prodName}}
              </div>
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">규격</label>
              </div>
              <div class="col-4">
                {{form.std}}
              </div>
            </div>

            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">시험ᆞ검사종목</label>
              </div>
              <div class="col-4">
                {{form.testItem}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">시료량</label>
              </div>
              <div class="col-10">
                {{form.sAmount}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">시료 또는 자재 생산국</label>
              </div>
              <div class="col-10">
                {{form.country}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">시료 채취 장소</label>
              </div>
              <div class="col-10">
                {{form.sColSite}}
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">시료 채취 일자</label>
              </div>
              <div class="col-4">
                {{form.sColDate}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center justify-content-center align-items-center d-flex">
                <label for="" class="col-12" style="color: black;">시료 채취자</label>
              </div>
              <div class="col-10">
                <div class="row mt-2">
                  <div class="col-1">
                    <label for="">소속</label>
                  </div>
                  <div class="col-2">
                    <input type="text" value="{{systemInfo.gcName}}" disabled="disabled">
                  </div>
                  <div class="col-1">
                    <label for="" class="mr-1">담당 업무</label>
                  </div>
                  <div class="col-2">
                    <input type="text" value="{{request.user.role}}" disabled="disabled">
                  </div>
                  <div class="col-1">
                    <label for="" class="mr-1">서명</label>
                  </div>
                  <div class="col-2">
                    <input type="text" value="{{request.user.name}}" disabled="disabled">
                  </div>
                  <div class="col-1">
                    <label for="" class="mr-1">(인)</label>
                  </div>
                  <div class="col-1">
                    <button data-bs-toggle="modal" data-bs-target="#exampleModal4" class="btnx">서명</button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered modal-sm">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="container-fluid">
                              <div class="row">
                                <div class="col-12">
                                  <label style="white-space: normal;" for="" class="col-12 text-center">결재를 위한 서명자 아이디를 입력해주세요</label>
                                </div>
                              </div>
                              <div class="mt-2 row">
                                <div class="col-12">
                                  <input class="col-12" type="password">
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer" style="margin: 0 auto;">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center justify-content-center align-items-center d-flex">
                <label for="" class="col-12" style="color: black;">입회자</label>
              </div>
              <div class="col-10">
                <div class="row mt-2">
                  <div class="col-1">
                    <label for="">소속</label>
                  </div>
                  <div class="col-2">
                    {{form.entrantOrg}}
                  </div>
                  <div class="col-1">
                    <label for="" class="mr-1">담당 업무</label>
                  </div>
                  <div class="col-2">
                    {{form.entrantRank}}
                  </div>
                  <div class="col-1">
                    <label for="" class="mr-1">서명</label>
                  </div>
                  <div class="col-2">
                    {{form.entrantName}}
                  </div>
                  <div class="col-1">
                    <label for="" class="mr-1">(인)</label>
                  </div>
                  <div class="col-1">
                    <button data-bs-toggle="modal" data-bs-target="#exampleModal4" class="btnx">서명</button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered modal-sm">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="container-fluid">
                              <div class="row">
                                <div class="col-12">
                                  <label style="white-space: normal;" for="" class="col-12 text-center">결재를 위한 서명자 아이디를 입력해주세요</label>
                                </div>
                              </div>
                              <div class="mt-2 row">
                                <div class="col-12">
                                  <input class="col-12" type="password">
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer" style="margin: 0 auto;">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">시험 및 시방기준</label>
              </div>
              <div class="col-10">
                {{form.specs}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">성과 이용 목적</label>
              </div>
              <div class="col-10">
                {{form.purpose}}
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center justify-content-center align-items-center d-flex">
                <label for="" class="col-12" style="color: black;">공사개요</label>
              </div>
              <div class="col-10">
                <div class="row mt-3">
                  <div class="col-1">
                    <label for="">공사명</label>
                  </div>
                  <div class="col-11">
                    <input type="text" value="{{systemInfo.constName}}" disabled="disabled">
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-1">
                    <label for="">착공일</label>
                  </div>
                  <div class="col-11">
                    <input type="text" value="{{systemInfo.constStart}}" disabled="disabled">
                  </div>
                </div>
                <div class="row mt-3">
                  <div class="col-1">
                    <label for="">준공예정일</label>
                  </div>
                  <div class="col-11">
                    <input type="text" value="{{systemInfo.constEnd}}" disabled="disabled">
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">발주자</label>
              </div>
              <div class="col-4">
                <input type="text" value="{{systemInfo.orderName}}" disabled="disabled">
              </div>
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">시공자</label>
              </div>
              <div class="col-4">
                <input type="text" value="{{systemInfo.gcName}}" disabled="disabled">
              </div>
            </div>
            <div class="mt-3 row">
              <div class="col-2 text-center">
                <label for="" class="col-12" style="color: black;">국가중요시설 여부</label>
              </div>
              <div class="col-10">
                {{form.date}}
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <label style="white-space: normal;" for="" class="col-12 text-center">건설기술 진흥법 제60조 제 1항에 따라 품질시험ᆞ검사를 의뢰합니다</label>
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-2">
                <label for="" class="col-12" style="color: black;">의뢰일</label>
              </div>
              <div class="col-4">
                {{form.date}}
              </div>
              <div class="col-1">
                <label for="" class="col-12" style="color: black;">의뢰인</label>
              </div>
              <div class="col-1">
                {{form.clientName}}
              </div>
              <div class="col-1">
                <label for="" class="col-12" style="color: black;">서명</label>
              </div>
              <div class="col-1">
                <input type="text" placeholder="" aria-required="true" class="col-12">
              </div>
              <div class="col-1">
                <label for="" class="col-12" style="color: black;">(인)</label>
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-1 offset-8">
                <label for="" class="col-12" style="color: black;">전화번호</label>
              </div>
              <div class="col-2">
                {{form.clientNum}}
              </div>
            </div>
            <div class="mt-3 row text-center">
              <div class="col-1 offset-8">
                <label for="" class="col-12" style="color: black;">주소</label>
              </div>
              <div class="col-2">
                {{form.clientAddress}}
              </div>
            </div>
            <br>
          </div>
        </section>
      </form>
    </div>
    <br><br><br><br><br>
  </main>
{% endblock %}