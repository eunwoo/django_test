<!-- Safety form page -->
{% extends 'base/head.html' %}
{% block title %}
  Safety Check
{% endblock %}
{% block style %}
  <style>
    main {
      width: 70%;
      min-width: 1200px;
      margin: 20px auto;
    }
  </style>
{% endblock %}

{% block content %}
  {% include 'base/header.html' %}
  <main>
    <div class="cont mt-4">
      {% include 'base/navbar_main.html' %}
      <section>
        <div class="container">
          <div class="row ml-0">
            <div class="col">
              <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a href="{% url 'work:index' %}">업무</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    <a href="{% url 'work:safety' %}">구조 안전성 검토</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">구조 안전성 검토 신고서</li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="container">
          <div class="row">
            <div class="col-4 offset-8 ">
              <div class="row">
                <div class="col">
                  <div class="col">
                    <button class="btn1 p-2 btn btn-light col-12" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal">저장</button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered modal-sm">
                        <div class="modal-content ">
                          <br><br>
                          <div class="modal-header" style="display:none">
                            <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">저장</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="container-fluid">
                              <div class="row">
                                <div class="col-12">
                                  <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">저장이 완료 되었습니다.</label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="modal-footer" style="margin: 0 auto;">
                            <button type="submit" form="safetyform" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col">
                  <button class="btn1 p-2 btn btn-light col-12" aria-label="Left Align" data-bs-toggle="modal" data-bs-target="#exampleModal1">서명 요청</button>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">저장을 해주세요.</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 fw-bold text-center">내용을 모두 작성해주세요.</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle3" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="col-12 text-center">수신인 지정</label>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-12">
                                <select name="" id="" class="col-12">
                                  <option value="" selected="selected" readonly="readonly">수신인을 지정해 주세요.</option>
                                  <option value="">김유지</option>
                                  <option value="">이문제</option>
                                  <option value="">청이라</option>
                                  <option value="">임아이</option>
                                </select>
                              </div>
                            </div>
                            <div class="row mt-2">
                              <div class="col-12">
                                <input type="text" placeholder="전달할 메시지를 입력해 주세요." style="white-space: normal;" class="col-12">
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <button type="button" class="btn btn-secondary" data-bs-target="#exampleModalToggle4" data-bs-toggle="modal">확인</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalToggle4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                      <div class="modal-content">
                        <br><br>
                        <div class="modal-header" style="display:none">
                          <h5 style="margin: 0 auto;" class="modal-title fw-bold" id="exampleModalLabel">서명 요청</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <div class="container-fluid">
                            <div class="row">
                              <div class="col-12">
                                <label style="white-space: normal;" for="" class="fw-bold col-12 text-center">서명 요청이 완료 되었습니다</label>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer" style="margin: 0 auto;">
                          <a href="Page1.html">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">확인</button>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </section>
      <section id="safety" name='safety'>
        <form>
          <div class="container border p-4 mb-5 text-center">
            <div class="row m-1">
              <h1>
                구조 안전성 검토 신고서
              </h1>
            </div>
            <div class="row">
              <div class="col-2 p-2">
                문서번호
              </div>
              <div class="col-4" id='docNum'>
                구조 안전성 검토 신고서-{{data.docNum}}
              </div>
              <div class="col-2 p-2">
                작성일자
              </div>
              <div class="col-4">
                <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="작성일자">
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                제목
              </div>
              <div class="col-10">
                제목을 입력하여주세요
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                공종
              </div>
              <div class="col-10">
                투입 공종을 선택해주세요.
              </div>
            </div>
            <div class="row align-items-center">
              <div class="col-2">
                내용
              </div>
              <div class="col-10">
                <div class="row">
                  <div class="col pb-4">
                    내용을 입력해주세요
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    담당자 홍길동
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    현장대리인
                  </div>
                </div>
              </div>
            </div>
            <div class="row align-items-center">
              <div class="col-2">
                붙임
              </div>
              <div class="col-10">
                <div class="row">
                  <div class="col">
                    구조계산서 불러오기
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    시공상세도면 불러오기
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                회신일자
              </div>
              <div class="col-10">
                날짜를 선택해주세요
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                검토의견
              </div>
              <div class="col-10">
                <div class="row">
                  <div class="col-2">
                    담당자
                  </div>
                  <div class="col-10">
                    내용을 입력해주세요
                  </div>
                </div>
                <div class="row">
                  <div class="col-2">
                    총괄관리자
                  </div>
                  <div class="col-10">
                    내용을 입력해주세요
                  </div>
                </div>
                <div class="row">
                  <div class="col-2 text-wrap">
                    구조안전성 검토<br>체크리스트
                  </div>
                  <div class="col-10">
                    URL이 들어갈 자리입니다.
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                결과
              </div>
              <div class="col-10">
                결과를 선택해주세요
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                담당건설사업 관리기술인
              </div>
              <div class="col-4">
                (인)
              </div>
              <div class="col-2">
                총괄건설사업 관리기술인
              </div>
              <div class="col-4">
                (인)
              </div>
            </div>
          </div>
        </form>
      </section>
    </div>
    <br><br><br><br><br>

  </main>
{% endblock %}

{% block javascript %}
  <script type="text/javascript">
    $(document).ready(function () {
      var $user = '{{request.user.role_type}}'
      if ($user == '일반 관리자') {
        $("#id_replyDate").prop("readonly", true);
        $("#id_inChargeRevCom").prop("readonly", true);
        $("#id_managerRevCom").prop("readonly", true);
        $("#id_results").prop("readonly", true);
        $("#id_eng").prop("readonly", true);
        $("#id_gcEng").prop("readonly", true);
      } else if ($user == '현장 대리인') {
        $("#safetyform :input")
          .not("#id_doc, #id_gcSiteAgent")
          .prop("readonly", true);
      } else if ($user == '시스템 관리자') {} else if ($user == '일반 건설사업관리기술인') {
        $("#id_docNum").prop("readonly", true);
        $("#id_date").prop("readonly", true);
        $("#id_title").prop("readonly", true);
        $("#id_conType").prop("readonly", true);
        $("#id_content").prop("readonly", true);
      } else if ($user == '총괄 건설사업관리기술인') {
        $("#id_docNum").prop("readonly", true);
        $("#id_date").prop("readonly", true);
        $("#id_title").prop("readonly", true);
        $("#id_conType").prop("readonly", true);
        $("#id_content").prop("readonly", true);
      }

    });
  </script>
{% endblock %}